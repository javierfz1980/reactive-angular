<h1>
  {{ title }}
  <button *ngIf="isAdministrator" class="btn btn-sm btn-primary" (click)="create()">Add Teacher</button>
</h1>
<hr>

<!-- content -->
<div *ngIf="dataSource | async as teachers; else loading">
  <div class="container-fluid">
    <clr-datagrid class="_content-datagrid" [clDgRowSelection]="true">
      <clr-dg-column>
        Name
        <clr-dg-string-filter [clrDgStringFilter]="nameLastnameFilter"></clr-dg-string-filter>
      </clr-dg-column>
      <clr-dg-column>
        Email
        <clr-dg-string-filter [clrDgStringFilter]="emailFilter"></clr-dg-string-filter>
      </clr-dg-column>

      <clr-dg-row *clrDgItems="let teacher of teachers">
        <clr-dg-action-overflow *ngIf="isAdministrator">
          <button class="action-item" (click)="edit(teacher)"><clr-icon shape="edit"></clr-icon> Edit Details</button>
          <button class="action-item" (click)="delete(teacher)"><clr-icon shape="trash"></clr-icon> Delete</button>
        </clr-dg-action-overflow>

        <clr-dg-cell (click)="details(teacher)">{{teacher.first_name}} {{teacher.last_name}}</clr-dg-cell>
        <clr-dg-cell (click)="details(teacher)">{{teacher.email}}</clr-dg-cell>
      </clr-dg-row>

      <clr-dg-footer>{{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
        of {{pagination.totalItems}} teachers
        <clr-dg-pagination #pagination [clrDgPageSize]="15"></clr-dg-pagination></clr-dg-footer>
    </clr-datagrid>
    <gl-confirmation-modal #confirmModal [modalData]="modalData"></gl-confirmation-modal>
  </div>
</div>

<!-- content loader -->
<ng-template #loading>
  <gl-content-loader></gl-content-loader>
</ng-template>
